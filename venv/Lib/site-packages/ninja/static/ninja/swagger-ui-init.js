/**JS file for handling the SwaggerUIBundle and avoid inline script */
<<<<<<< HEAD
<<<<<<< HEAD
const swaggerUi = document.querySelector("body")

SwaggerUIBundle({
    url: swaggerUi.dataset.openapiUrl,
    dom_id: '#swagger-ui',
    presets: [
    SwaggerUIBundle.presets.apis,
    SwaggerUIBundle.SwaggerUIStandalonePreset
    ],
    layout: "BaseLayout",
    requestInterceptor: (req) => {
        if (swaggerUi.dataset.apiCsrf && swaggerUi.dataset.csrfToken) {
            req.headers['X-CSRFToken'] = swaggerUi.dataset.csrfToken
        }
        return req;
    },
    deepLinking: true
})
=======
const csrfSettings = document.querySelector("body").dataset
const configJson = document.getElementById("swagger-settings").textContent;
const configObject = JSON.parse(configJson);
=======
const swaggerUi = document.querySelector("body")
>>>>>>> 903c694 (inital commit)

SwaggerUIBundle({
    url: swaggerUi.dataset.openapiUrl,
    dom_id: '#swagger-ui',
    presets: [
    SwaggerUIBundle.presets.apis,
    SwaggerUIBundle.SwaggerUIStandalonePreset
    ],
    layout: "BaseLayout",
    requestInterceptor: (req) => {
        if (swaggerUi.dataset.apiCsrf && swaggerUi.dataset.csrfToken) {
            req.headers['X-CSRFToken'] = swaggerUi.dataset.csrfToken
        }
        return req;
<<<<<<< HEAD
    };
};


// {% if add_csrf %}
// configObject.requestInterceptor = (req) => {
//     req.headers['X-CSRFToken'] = "{{csrf_token}}";
//     return req;
// };
// {% endif %}

const ui = SwaggerUIBundle(configObject);



// SwaggerUIBundle({
//     url: swaggerUi.dataset.openapiUrl,
//     dom_id: '#swagger-ui',
//     presets: [
//         SwaggerUIBundle.presets.apis,
//         SwaggerUIBundle.SwaggerUIStandalonePreset
//     ],
//     layout: "BaseLayout",
//     requestInterceptor: (req) => {
//         if (swaggerUi.dataset.apiCsrf && swaggerUi.dataset.csrfToken) {
//             req.headers['X-CSRFToken'] = swaggerUi.dataset.csrfToken
//         }
//         return req;
//     },
//     deepLinking: true
// })
>>>>>>> ecbd90b (Initial commit)
=======
    },
    deepLinking: true
})
>>>>>>> 903c694 (inital commit)
